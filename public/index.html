<!DOCTYPE html>
<html ng-app="employeesDirectoryApp">
<head>
<meta charset="ISO-8859-1">
<title>Employees App</title>

<script src="/library/javascript/angular.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="/library/css/bootstrap.min.css" />
<link rel="stylesheet" href="/library/css/bootstrap-theme.min.css" />
<link rel="stylesheet" href="/stylesheets/style.css" />
<script src="/library/javascript/jquery.js" type="text/javascript"></script>
<script src="/library/javascript/bootstrap.min.js" type="text/javascript"></script>
<script type="text/javascript" src="/javascript/controllers/employeesController.js"></script>
<script type="text/javascript" src="/javascript/services/employeesService.js"></script>

</head>
<body>
	<div class="container" ng-controller="employeesDirectoryController">
		<br />
		<h1 align="center">Employees Directory App</h1>
		<br />
		<form class="form-horizontal">
			<div class="form-group" ng-show="error.isError">
				<div class="alert alert-danger" role="alert">
				  {{error.message}}
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" >Name:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" ng-model="employee.name" required placeholder="Name">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" >Email:</label>
				<div class="col-sm-10">
					<input type="email" class="form-control" ng-model="employee.email" required placeholder="abc@xyz.com">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" >Date of Birth:</label>
				<div class="col-sm-10">          
					<input type="date" class="form-control" ng-model="employee.date_of_birth" id="datepicker" required  placeholder="Date">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" >Department:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" ng-model="employee.department" required placeholder="Department">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" >Gender:</label>				
				<div class="col-sm-10">
					<select class="form-control" ng-model="employee.gender" required ng-options="gender for gender in genderList">
						<option value="">-- choose Gender --</option>
					</select>
				</div>
			</div>
			<div class="form-group" ng-hide="isInEditMode">        
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-success" ng-click="addEmployee()">Add Employee</button>
				</div>
			</div>
			<div class="form-group" ng-show="isInEditMode">        
				<div class="col-sm-offset-2 col-sm-4">
					<button type="submit" class="btn btn-success" ng-click="updateEmployee()">Update Employee</button>
					<button type="submit" class="btn btn-danger" ng-click="cancelUpdate()">Cancel Update</button>
				</div>
			</div>
		</form>
		<table class="table">
			<thead>
				<tr>
					<td>Name</td>
					<td>Email</td>
					<td>Date of Birth</td>
					<td>Department</td>
					<td>Gender</td>
					<td>Age (in years)</td>
				</tr>
			</thead>

			<tbody>
				<tr ng-repeat="employee in employees">
					<td>{{employee.name}}</td>
					<td>{{employee.email}}</td>
					<td>{{employee.date_of_birth | date:'yyyy-MM-dd'}}</td>
					<td>{{employee.department}}</td>
					<td>{{employee.gender}}</td>
					<td>{{employee.age}}</td>
					<td>
						<button class="btn btn-primary btn-sm"
							ng-click="editEmployee(employee._id)">Edit</button>&nbsp;&nbsp;
						<button class="btn btn-danger btn-sm"
							ng-click="deleteEmployee(employee._id)">X</button>						
					</td>
				</tr>
			</tbody>
		</table>
	</div>


</body>
</html>